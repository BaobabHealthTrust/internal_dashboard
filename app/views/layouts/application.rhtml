<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <% @title = "#{controller.controller_name.humanize} #{controller.action_name.humanize}" rescue ""  %>
    <link href="/stylesheets/styles.css" rel="stylesheet" type="text/css" />
    <!--link href="../flot/layout.css" rel="stylesheet" type="text/css"></link-->
    <script language="javascript" type="text/javascript" src="/javascripts/flot/jquery.js"></script>
    <script language="javascript" type="text/javascript" src="/javascripts/flot/jquery.flot.js"></script>

    <!--script type="text/javascript" language="javascript" src="/javascripts/sites.js"></script-->

    <script type="text/javascript" language="javascript">
      <!--

<% if @sites %>
  
    var sites = <%= @sites.to_json %>;

<% end %>

  String.prototype.toProperCase = function()
  {
    return this.toLowerCase().replace(/^(.)|\s(.)/g,
    function(e) {
      return e.toUpperCase();
    });
  }

  function getID(id){
    return document.getElementById(id);
  }

  function checkCtrl(obj){
    var o = obj;
    var t = o.offsetTop;
    var l = o.offsetLeft + 1;
    var w = o.offsetWidth;
    var h = o.offsetHeight;

    while(o.offsetParent != document.body){
      o = o.offsetParent;
      t += o.offsetTop;
      l += o.offsetLeft;
    }
    return Array(w, h, t, l);
  }

  //-->
    </script>


  </head>
  <body>

    <% unless flash[:notice].nil? %>

      <script type="text/javascript" language="javascript">
        <!--
        alert("<%= flash[:notice] %>");
        //-->
      </script>

    <% end %>
    <% unless flash[:error].nil? %>

      <%= "<script type=\"text/javascript\" language=\"javascript\">\n\t" %>
      <%= "<!--\n" %>
      <%= " alert('#{flash[:error]}');\n\t" %>
      //-->
      <%=  "</script>" %>

    <% end %>
    <%= yield %>

  </body>
</html>
